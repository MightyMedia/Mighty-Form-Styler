!function($,e,t,s){"use_strict";var i=!1,n=!1,l=!1,o="",a="&nbsp;",r=/Android|webOS|iPad|iPhone/i.test(navigator.userAgent),d=function(e,t){var s=e.find("select"),l=s.find("option"),d=e.find("a.mfs-selected-option"),c=e.find("ul.mfs-options"),f=c.find("li.mfs-option"),p=c.find("a");c.hide(),i=!1,o="",n.disableTouch===!0&&r===!0?(d.click(function(){return s.focus(),!1}),s.blur(function(){h(e)})):d.click(function(){var e=$("ul.mfs-options");if(c.is(":visible"))c.hide(),i=!1,o="";else{f.removeClass("active"),e.hide(),c.show();var t=c.find("li.mfs-option.selected");t.length>0?t.addClass("active"):c.find("li.mfs-option:first-child").addClass("active"),n.enableScroll===!0&&u(c),i=c}return $(this).blur(),!1}),p.click(function(){if(a="&nbsp;",n.dropdownHandle!==!1&&(a=n.dropdownHandle),t===!1)l.removeAttr("selected"),l.eq($(this).attr("index")).prop("selected","selected"),d.html($(this).text()+"<span>"+a+"</span>"),f.removeClass("active").removeClass("selected"),$(this).closest("li").addClass("selected");else{var e=$(this).closest("li");e.hasClass("selected")?(l.eq($(this).attr("index")).removeAttr("selected"),e.removeClass("selected")):(l.eq($(this).attr("index")).prop("selected","selected"),e.addClass("selected"));var r=0;null!==s.val()&&(r=s.val().length),d.html('<strong class="count">'+r+"</strong> "+n.multipleTitle+"<span>"+a+"</span>"),n.mutlipleTitleNone!==!1&&0===r&&d.html(n.mutlipleTitleNone+"<span>"+a+"</span>")}return(n.mutlipleAutoClose===!0||t===!1)&&(c.hide(),i=!1),o="",s.selectedIndex!==$(this).attr("index")&&s.onchange&&(s.selectedIndex=$(this).attr("index"),s.onchange()),s.selectedIndex!==$(this).attr("index")&&(s.selectedIndex=$(this).attr("index"),s.trigger("change")),t===!0&&s.trigger("change"),!1}),f.mouseover(function(){f.removeClass("active"),$(this).addClass("active")}),s.addClass("mfs-enabled")},c=function(e){var t=!0;if("undefined"!=typeof n.skipClasses&&""!==n.skipClasses.trim()){var s=n.skipClasses.split(" ");if(s.length>0)for(var i=0;i<s.length;i++){var l=s[i];"undefined"!=typeof l&&""!==l.trim()&&e.hasClass(l)&&(t=!1)}}if(t===!0){var o="notouch";n.disableTouch===!0&&r===!0&&(o="");var c=!1;e.attr("multiple")&&(c=!0),e.after('<div class="mfs-container '+o+'"></div>');var f=e.next("div.mfs-container");e.appendTo(f);var h="",p="",u="",m=0,v="",g="",C=0;c===!0&&(h=n.mutlipleTitleNone!==!1?n.mutlipleTitleNone:'<strong class="count">0</strong> '+n.multipleTitle),n.autoWidth===!0&&(g='style="white-space: nowrap;"'),e.find("> option, optgroup").each(function(){var e=$(this).get(0).tagName.toLowerCase();if("option"===e){var t="",s=$(this).html();(""===h||$(this).is(":selected"))&&(c===!1&&(h=s),$(this).is(":selected")&&(t=" selected",C++,c===!0&&(h='<strong class="count">'+C+"</strong> "+n.multipleTitle))),u+='<li class="mfs-option'+t+'"><a href="#" index="'+m+'"'+g+">"+s+"</a></li>",m++}if("optgroup"===e){var i=$(this).attr("label"),l='<li class="mfs-optgroup">'+i+"</li>";$(this).find("option").each(function(){var e="",t=$(this).html();(""===h||$(this).is(":selected"))&&(h=t,$(this).is(":selected")&&(e=" selected")),l+='<li class="mfs-option mfs-optgroup-option'+e+'"><a href="#" index="'+m+'"'+g+">"+t+"</a></li>",m++}),u+=l}}),n.dropdownHandle!==!1&&(a=n.dropdownHandle),n.enableScroll===!0&&(v="overflow-y:auto;max-height:"+n.maxHeight+"px;"),n.autoWidth===!0&&(v="width:auto;min-width:100%;"),v.length>0&&(v='style="'+v+'"'),p+='<a class="mfs-selected-option" href="#">'+h+"<span>"+a+"</span></a>",p+='<ul class="mfs-options"'+v+">"+u+"</ul>",f.prepend(p),d(f,c)}},f=function(e){var t=e.find("select");t.removeClass("mfs-enabled"),e.before(t),e.remove()},h=function(e){var t=e.find("select");e.before(t),e.remove(),c(t)},p=function(e){l!==!1&&clearTimeout(l),l=setTimeout(function(){o=""},1e3);var t=String.fromCharCode(e);o+=String(t);var s=i.find("a:mfssearch('"+o+"')").filter(":first");s.length>0&&(i.find("li.active").removeClass("active"),s.closest("li").addClass("active"),u(i))},u=function(e){if(n.enableScroll===!0){var t=e.find("li.mfs-option.active"),s=t.height(),i=t.position(),l=t.offset(),o=e.height();i.top>n.maxHeight-24?e.scrollTop(e.scrollTop()+l.top-e.offset().top-(o-s)+5):i.top<5&&e.scrollTop(e.scrollTop()+l.top-e.offset().top-5)}},m={init:function(s){if(n=$.extend({},{refresh:!0,radio:!1,checkbox:!1,dropdownHandle:!1,enableScroll:!1,maxHeight:200,autoWidth:!1,disableTouch:!1,multipleTitle:"selected",mutlipleTitleNone:!1,multipleAutoClose:!0,skipClasses:""},s),this.is("select")){var l=$(this);l.hasClass("mfs-enabled")||c(l)}else this.each(function(){var e=$(this);if(!e.hasClass("mfs-enabled")){var t=e.find("select");t.length>0&&t.each(function(){var e=$(this);e.hasClass("mfs-enabled")||c(e)}),e.addClass("mfs-enabled")}});$(e).click(function(){$("ul.mfs-options").hide(),i=!1,o=""}),$(t).off("keydown.mfs"),$(t).on("keydown.mfs",function(e){var t=e.keyCode;if(i===!1||13!==t&&38!==t&&40!==t&&27!==t)i!==!1&&37!==t&&39!==t&&16!==t&&17!==t&&18!==t&&91!==t&&(e.preventDefault(),p(t));else{var s=i.find("li.mfs-option.active"),n=!1;38===t?(e.preventDefault(),n=s.prevAll(".mfs-option:first"),n.length>0&&(n.addClass("active"),s.removeClass("active"),u(i))):40===t?(e.preventDefault(),n=s.nextAll(".mfs-option:first"),n.length>0&&(n.addClass("active"),s.removeClass("active"),u(i))):13===t?s.find("a").click():27===t&&($("ul.mfs-options").hide(),i=!1)}})},refresh:function(){i=!1,o="",this.each(function(){var e=$(this).find("select");e.length>0&&e.each(function(){var e=$(this),t=e.closest("div.mfs-container");e.hasClass("mfs-enabled")?t.length>0&&h(t):c(e)})})},destroy:function(){i=!1,o="",this.each(function(){var e=$(this),t=$(this).find("div.mfs-container");t.length>0&&t.each(function(){var e=$(this);f(e)}),e.removeClass("mfs-enabled")})}};$.fn.mfs=function(e){return m[e]?m[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void $.error("Method "+e+" does not exist on jQuery.mfs"):m.init.apply(this,arguments)}}(jQuery,window,document),$.extend($.expr[":"],{mfscontains:function(e,t,s){return(e.textContent||e.innerText||"").toLowerCase().indexOf((s[3]||"").toLowerCase())>=0}}),$.extend($.expr[":"],{mfssearch:function(e,t,s){var i=s[3].toLowerCase(),n=i.length;return(e.textContent||e.innerText||"").toLowerCase().substr(0,n)===i}});