"function"!=typeof Object.create&&(Object.create=function(e){function t(){}return t.prototype=e,new t}),$.extend($.expr[":"],{mfscontains:function(e,t,i){return(e.textContent||e.innerText||"").toLowerCase().indexOf((i[3]||"").toLowerCase())>=0}}),$.extend($.expr[":"],{mfssearch:function(e,t,i){var s=i[3].toLowerCase(),n=s.length;return(e.textContent||e.innerText||"").toLowerCase().substr(0,n)===s}}),function($,e,t,i){var s="mfs",n="plugin_"+s,o=!1,a=!1,l="",r=/Android|webOS|iPad|iPhone/i.test(navigator.userAgent),c={init:function(t,i){var n=this;if(n.options=$.extend(!0,{},$.fn[s].options,t),n.namespace="."+s+"."+(new Date).getTime(),n.element=i,n.$element=$(i),n.$element.is("select")){var a=n.$element;a.hasClass("mfs-enabled")||n.createSelect(a)}else n.$element.each(function(){var e=n.$element;if(!e.hasClass("mfs-enabled")){var t=e.find("select");t.length>0&&t.each(function(){var e=$(this);e.hasClass("mfs-enabled")||n.createSelect(e)}),e.addClass("mfs-enabled")}});return $(e).click(function(){$("ul.mfs-options").hide(),o=!1,l="",$(".mfs-container").removeClass("mfs-container-active")}),n.bind(),n},bind:function(){var e=this;$(t).off("keydown.mfs"),$(t).on("keydown.mfs",function(t){var i=t.keyCode;if(o===!1||13!==i&&38!==i&&40!==i&&27!==i)o!==!1&&37!==i&&39!==i&&16!==i&&17!==i&&18!==i&&91!==i&&(t.preventDefault(),e.searchOption(i));else{var s=o.find("li.mfs-option.active"),n=!1;38===i?(t.preventDefault(),n=s.prevAll(".mfs-option:first"),n.length>0&&(n.addClass("active"),s.removeClass("active"),e.scrollToActiveOption(o))):40===i?(t.preventDefault(),n=s.nextAll(".mfs-option:first"),n.length>0&&(n.addClass("active"),s.removeClass("active"),e.scrollToActiveOption(o))):13===i?s.find("a").click():27===i&&($("ul.mfs-options").hide(),$(".mfs-container").removeClass("mfs-container-active"),o=!1)}})},bindProxied:function(e,t,i){var s=this;e.on(t+s.namespace,$.proxy(function(e){return i.call(s,e)},s))},refresh:function(){var e=this;o=!1,l="",e.$element.each(function(){var t=$(this).find("select");t.length>0&&t.each(function(){var t=$(this),i=t.closest("div.mfs-container");t.hasClass("mfs-enabled")?i.length>0&&e.refreshSelect(i):e.createSelect(t)})})},destroy:function(){var e=this;o=!1,l="",e.$element.each(function(){var t=$(this),i=t.find("div.mfs-container");i.length>0&&i.each(function(){var t=e.$element;e.destroySelect(t)}),t.removeClass("mfs-enabled")}),e.$element.off(e.namespace),e.$element.removeData(n)},enableMagic:function(e,t){var i=this,s=e.find("select"),n=s.find("option"),a=e.find("a.mfs-selected-option"),c=e.find("ul.mfs-options"),d=c.find("li.mfs-option"),f=c.find("a"),p=!1,h=s.data("altTitle");"undefined"!=typeof h&&""!==h.trim()&&(p=!0),c.hide(),e.removeClass("mfs-container-active"),o=!1,l="",i.options.disableTouch===!0&&r===!0?(a.click(function(){return s.focus(),!1}),s.blur(function(){i.refreshSelect(e)})):a.click(function(){var t=$("ul.mfs-options");if(c.is(":visible"))c.hide(),e.removeClass("mfs-container-active"),o=!1,l="";else{d.removeClass("active"),t.hide(),c.show(),e.addClass("mfs-container-active");var s=c.find("li.mfs-option.selected");s.length>0?s.addClass("active"):c.find("li.mfs-option:first-child").addClass("active"),i.options.enableScroll===!0&&i.scrollToActiveOption(c),o=c}return $(this).blur(),!1}),f.click(function(){var r="&nbsp;";if(i.options.dropdownHandle!==!1&&(r=i.options.dropdownHandle),t===!1){var f=$(this).text();p===!0&&""===n.eq($(this).attr("index")).attr("value")&&(f=h),n.prop("selected",!1),n.eq($(this).attr("index")).prop("selected",!0),a.html(f+"<span>"+r+"</span>"),d.removeClass("active").removeClass("selected"),$(this).closest("li").addClass("selected")}else{var v=$(this).closest("li");v.hasClass("selected")?(n.eq($(this).attr("index")).prop("selected",!1),v.removeClass("selected")):(n.eq($(this).attr("index")).prop("selected",!0),v.addClass("selected"));var m=0;null!==s.val()&&(m=s.val().length),a.html('<strong class="count">'+m+"</strong> "+i.options.multipleTitle+"<span>"+r+"</span>"),i.options.mutlipleTitleNone!==!1&&0===m&&a.html(i.options.mutlipleTitleNone+"<span>"+r+"</span>")}return i.options.multipleAutoClose!==!0&&t!==!1||(c.hide(),o=!1,e.removeClass("mfs-container-active")),l="",s.selectedIndex!==$(this).attr("index")&&s.onchange&&(s.selectedIndex=$(this).attr("index"),s.onchange()),s.selectedIndex!==$(this).attr("index")&&(s.selectedIndex=$(this).attr("index"),s.trigger("change")),t===!0&&s.trigger("change"),!1}),d.mouseover(function(){d.removeClass("active"),$(this).addClass("active")}),s.addClass("mfs-enabled")},createSelect:function(e){var t=this,i=!0,s=!1,n=e.data("altTitle");if("undefined"!=typeof t.options.skipClasses&&""!==t.options.skipClasses.trim()){var o=t.options.skipClasses.split(" ");if(o.length>0)for(var a=0;a<o.length;a++){var l=o[a];"undefined"!=typeof l&&""!==l.trim()&&e.hasClass(l)&&(i=!1)}}if(i===!0){var c="notouch";"undefined"!=typeof n&&""!==n.trim()&&(s=!0),t.options.disableTouch===!0&&r===!0&&(c="");var d=!1;e.attr("multiple")&&(d=!0),e.after('<div class="mfs-container '+c+'"></div>');var f=e.next("div.mfs-container");e.appendTo(f);var p="&nbsp;",h="",v="",m="",u=0,g="",C="",b=0;d===!0&&(h=t.options.mutlipleTitleNone!==!1?t.options.mutlipleTitleNone:'<strong class="count">0</strong> '+t.options.multipleTitle),t.options.autoWidth===!0&&(C='style="white-space: nowrap;"'),e.find("> option, optgroup").each(function(){var i=$(this).get(0).tagName.toLowerCase();if("option"===i){var o="",a=$(this).html();(""===h||$(this).is(":selected"))&&(d===!1&&(h=s===!0&&""===e.val()?n:a),$(this).is(":selected")&&(o=" selected",b++,d===!0&&(h='<strong class="count">'+b+"</strong> "+t.options.multipleTitle))),m+='<li class="mfs-option'+o+'"><a href="#" index="'+u+'"'+C+">"+a+"</a></li>",u++}if("optgroup"===i){var l=$(this).attr("label"),r='<li class="mfs-optgroup">'+l+"</li>";$(this).find("option").each(function(){var e="",t=$(this).html();(""===h||$(this).is(":selected"))&&(h=t,$(this).is(":selected")&&(e=" selected")),r+='<li class="mfs-option mfs-optgroup-option'+e+'"><a href="#" index="'+u+'"'+C+">"+t+"</a></li>",u++}),m+=r}}),t.options.dropdownHandle!==!1&&(p=t.options.dropdownHandle),t.options.enableScroll===!0&&(g="overflow-y:auto;max-height:"+t.options.maxHeight+"px;"),t.options.autoWidth===!0&&(g="width:auto;min-width:100%;"),g.length>0&&(g='style="'+g+'"'),v+='<a class="mfs-selected-option" href="#">'+h+"<span>"+p+"</span></a>",v+='<ul class="mfs-options"'+g+">"+m+"</ul>",f.prepend(v),t.enableMagic(f,d)}},destroySelect:function(e){var t=e.find("select");t.removeClass("mfs-enabled"),e.before(t),e.remove()},refreshSelect:function(e){var t=this,i=e.find("select");e.before(i),e.remove(),t.createSelect(i)},searchOption:function(e){var t=this;a!==!1&&clearTimeout(a),a=setTimeout(function(){l=""},1e3);var i=String.fromCharCode(e);l+=String(i);var s=o.find("a:mfssearch('"+l+"')").filter(":first");s.length>0&&(o.find("li.active").removeClass("active"),s.closest("li").addClass("active"),t.scrollToActiveOption(o))},scrollToActiveOption:function(e){var t=this;if(t.options.enableScroll===!0){var i=e.find("li.mfs-option.active"),s=i.height(),n=i.position(),o=i.offset(),a=e.height();n.top>t.options.maxHeight-24?e.scrollTop(e.scrollTop()+o.top-e.offset().top-(a-s)+5):n.top<5&&e.scrollTop(e.scrollTop()+o.top-e.offset().top-5)}}};$.fn[s]=function(e){var t=Array.prototype.slice.call(arguments);return this.each(function(){var i=$.data(this,n);if("object"!=typeof e&&"init"!==e&&e){if(!i)return void $.error("Plugin is not initialized for this object yet.");if(!i[e])return void $.error("Method "+e+" does not exist on jQuery."+s+".");var o=e;e=t.slice(1),i[o].apply(i,e)}else{if(i)return void $.error("Plugin is already initialized for this object.");"init"===e&&(e=t[1]||{}),i=Object.create(c).init(e,this),$.data(this,n,i)}})},$.fn[s].options={refresh:!0,radio:!1,checkbox:!1,dropdownHandle:!1,enableScroll:!1,maxHeight:200,autoWidth:!1,disableTouch:!1,multipleTitle:"selected",mutlipleTitleNone:!1,multipleAutoClose:!0,skipClasses:""}}(jQuery,window,document);
//# sourceMappingURL=./jquery.mfs.min.js.map